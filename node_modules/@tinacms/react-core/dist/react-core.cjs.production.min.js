"use strict";var e=require("react"),n=require("@tinacms/core"),t="useCMS could not find an instance of CMS",u=e.createContext(null);function i(){var n=e.useContext(u);if(!n)throw new Error(t);return n}var r=s;function s(n){var t,u=i();t=Array.isArray(n)?n:[n],e.useEffect((function(){return t.forEach((function(e){e&&u.plugins.add(e)})),function(){t.forEach((function(e){e&&u.plugins.remove(e)}))}}),[u.plugins].concat(t))}function o(e,n){return void 0===n&&(n={}),[e.initialValues,void 0]}var c=o;function a(n,t){return function(u){return r(t),e.createElement(n,Object.assign({},u))}}var f=a;exports.CMSContext=u,exports.ERROR_MISSING_CMS=t,exports.useCMS=i,exports.useCMSForm=c,exports.useForm=function(t,u){void 0===u&&(u={});var i=e.useState(),r=i[0],s=i[1],o=e.useState(t.initialValues)[1];return e.useEffect((function(){if(t.initialValues){var e=new n.Form(t);s(e);var u=e.subscribe((function(e){o(e.values)}),{values:!0});return function(){u()}}}),[t.id,!!t.initialValues]),function(n,t){e.useEffect((function(){t&&void 0!==n&&t.updateFields(n)}),[t,n])}(u.fields,r),function(n,t){e.useEffect((function(){t&&void 0!==n&&(t.label=n)}),[t,n])}(u.label,r),function(n,t){e.useEffect((function(){t&&void 0!==n&&t.updateValues(n)}),[t,n])}(u.values,r),[r?r.values:t.initialValues,r]},exports.useLocalForm=o,exports.usePlugin=r,exports.usePlugins=s,exports.useSubscribable=function(n,t){var u=e.useState(0)[1];e.useEffect((function(){return n.subscribe((function(){u((function(e){return e+1})),t&&t()}))}))},exports.useWatchFormValues=function(n,t){e.useEffect((function(){if(n){var e=!0;return n.subscribe((function(n){e?e=!1:t(n)}),{values:!0})}}),[t,n])},exports.withPlugin=f,exports.withPlugins=a;
//# sourceMappingURL=react-core.cjs.production.min.js.map
